<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link href="/favicon.ico" rel="shortcut icon" type="image/png"><link rel="stylesheet" type="text/css" href="/styles/normalize.css"><link rel="stylesheet" type="text/css" href="/styles/grid.css"><link rel="stylesheet" type="text/css" href="/styles/main.css"></head><body><div class="contain"><header><div class="contain"><p class="gh"><a href="/">Home</a></p><ul><li class="gs"><a href="/getting-started.html">Getting Started</a></li><li class="sub"><a href="/"> <img src="/images/menu.svg"> Navigation</a></li><li><a href="https://github.com/thingsinjars/Hardy">Source</a></li></ul></div></header><nav class="d2 m6 s6 mn"><ul><li><a href="/">Home</a></li><li><a href="/getting-started.html">Getting started</a><ul><li><a href="/getting-started.html#installation">Installation</a></li><li><a href="/getting-started.html#first-tests">First tests</a></li></ul></li><li><a href="/selector-maps.html">Selector maps</a></li><li><a href="/css-test-steps.html">CSS testing steps</a></li><li><a href="/custom-steps.html">Custom testing steps</a></li><li><a href="/chrome-extension.html">Chrome extension</a></li><li><a href="/continuous-integration.html">Continuous integration</a></li><li><a href="https://github.com/thingsinjars/Hardy">Source</a></li></ul></nav><div class="d4 content"><h1>CSS testing steps</h1>
<p>There are a few basic testing steps provided with Hardy that cover a lot of use cases. For complete test coverage, you will also need to write your own <a href="/custom-steps.html">custom steps</a> but we&#39;ll look at the defaults first.</p>
<h2>Tests</h2>
<h3><code>Then &quot;&lt;css selector&gt;&quot; should have &quot;&lt;css property&gt;&quot; of &quot;&lt;value&gt;&quot;</code></h3>
<p>Testing for equality in CSS values. When the property measured is a colour, the values (measured and expected) are both converted to RGBA to ensure consistency. There is also a small amount of variation allowed as some browsers calculate colours slightly differently. This tolerance level is very, very small and not usually noticable.</p>
<h3><code>Then &quot;&lt;css selector&gt;&quot; should have &quot;&lt;css property&gt;&quot; of &quot;&lt;value&gt;&quot; or &quot;&lt;value&gt;&quot; or ...</code></h3>
<p>Same as the previous test but allows a few possible values. Useful if you want to ensure that all text element colours are from a predefined palette.</p>
<h3><code>Then &quot;&lt;css selector&gt;&quot; should have &quot;&lt;css property&gt;&quot; of &quot;&lt;greater|less&gt;&quot; than &quot;&lt;value&gt;&quot;</code></h3>
<p>To make tests sturdier and more reliable, it is best to not be completely exact in measurement. This step allows you to name a minimum or maximum for any numerical value. Using two of these steps together, you can create a range of acceptable values.</p>
<h3><code>Then &quot;&lt;css selector&gt;&quot; should have offset &quot;&lt;top or left&gt;&quot; of &quot;&lt;value&gt;&quot;</code></h3>
<p>Calculates the exact position of the element within the page and reports it back. This is measured regardless of the rules applied so that even if an element has <code>top: auto</code> for example, will still return the actual number of pixels from the top of the document.</p>
<h3><code>Then &quot;&lt;css selector&gt;&quot; should look the same as before</code></h3>
<p>This step does an <a href="http://csste.st/techniques/image-diff.html">image diff comparison</a> on the element supplied. This element could be anything from a single <code>li</code> to the entire page.</p>
<h2>Basic steps</h2>
<p>These are the ones needed to open a web page and perform basic functionality. There are many more examples of these steps in the original <a href="https://github.com/Camme/webdriverjs">WebDriverJS project</a> used behind-the-scenes in Hardy.</p>
<h3><code>Given I visit &quot;&lt;web page URL&gt;&quot;</code></h3>
<p>Hopefully self-explanatory. Opens the specified page in the browser.</p>
<h3><code>Given I wait for &quot;&lt;n&gt;&quot; seconds</code></h3>
<p>Allows for interactive testing. If a particular action takes a length of time, you can pause the test for that length of time. Note: using this too often will (predictably) slow down your test runs.</p>
<h3><code>Given I wait for &quot;&lt;selector&gt;&quot; to be present</code></h3>
<p>Another helper for interactive testing. This will loop for a while (maximum of 5 seconds) until there is an element that matches the selector specified. If there isn&#39;t a match after 5 seconds, this fails.</p>
<h3><code>Given the window size is &quot;&lt;width&gt;&quot; by &quot;&lt;height&gt;&quot;</code></h3>
<p>This step allows the browser size to be controlled. This can make testing responsive designs easy.</p>
<h3><code>Then I enter &#39;&lt;string&gt;&#39; into &#39;&lt;css selector&gt;&#39;</code></h3>
<p>This behaves as though the user typed the string into the input identified by the selector.</p>
<h3><code>Then I submit the form &#39;&lt;css selector&gt;&#39;</code></h3>
<p>Equivalent to pressing submit on the form identified by the selector.</p>
<p>There is already quite a lot that can be accomplished with these steps but you will probably also need to write your own <a href="/custom-steps.html">custom steps</a> for complete coverage.</p>
</div><footer><p class="bar"> <a href="http://twitter.com/thingsinjars">A project by Simon Madine</a></p></footer></div><div class="ribbon-wrap"><div class="ribbon">Beta</div></div><script src="/scripts/hardy.io.js"></script></body></html>